# SPRING DB 1편

## JDBC 등장 배경
- 과거에는 DB마다 커넥션을 연결하는 방법 , SQL을 전달하는 방법 , 응답받는 방법이 전부 달랐다
- DB의 종류 또한 정말 많다 (MySQL, OracleDB, h2 ...)
- 어떤 DB를 사용하는지에 따라 연결방법을 매번 배워야 했다
- 번거로움을 해결하기위해 JDBC 표준 인터페이스가 등장했다

## JDBC 표준 인터페이스
- DBMS와 Connection을 연결하기 위한 인터페이스, SQL을 담을 Satement ,SQL 요청 응답을 담을 ResultSet 인터페이스를 표준으로 정의하여 제공한다
- 자바에서 데이터베이스에 접속할 수 있도록 하는 자바 API
- 다양한 종류의 관계형 데이터베이스에 접속하고 SQL문을 수행하여 처리하고자 할 때 사용되는 표준  SQL 인터페이스 API이다
- 사용하는 DBMS 서버에 맞는 JDBC 드라이버가 필요하다
- `JDBC 드라이버` - java.sql의 인터페이스를 상속하여 메서드 내부를 구현한 클래스 파일

### JDBC를 사용했을때 코드

- CRUD 작업을 진행할 때마다 데이터베이스와 연결하는 Connection 객체를 항상 새로 연결해 줘야 한다
- SQL문을 전달하기 위한 PreparedStatement 객체에 매개변수를 세팅해 줘야 한다
- SQL문을 실행해주는 메서드가 반복적으로 사용된다
- 커넥션, PreparedStatement , ResultSet을 닫아줘야 한다

### SQL Mapper
- JDBC를 편리하게 사용할수 있도록 도와준다
- JDBC를 사용했을때는 CRUD를 할때 마다 커넥션을 연결하고 쿼리를 날리고 결과를 받고 자원을 해제하는 코드가 중복됬다
- SQL Mapper가 JDBC의 반복 코드를 제거해 준다


### ORM

- 객체를 관계형 데이터베이스 테이블과 매핑해 준다
- 반복적인 SQL을 작성하지 않아도 된다
- 각 데이터베이스마다 다른 SQL을 사용하는 문제를 해결해 준다
- 예) JPA , 하이버네이트, 이클립스 링크


### SQL Mapper 와 ORM 차이

- `SQL Mapper`  - SQL 쿼리 실행 결과를 객체에 바인딩해준다
    - SQL 의존적인 방법
- `MyBatis` - SQL을 xml 파일로 분리하여 관리
    - SQL 쿼리 결과를 객체에 매핑할수 있도록 도와준다
    - 동적쿼리를 지원한다
- 객체와 관계형 테이블 간 패러다임 불일치 문제가 발생할 수 있다

- `ORM`
- 객체와 DB 테이블을 매핑하여 데이터를 객체화 해준다
- CRUD 관련 메서드를 사용하면 자동으로 SQL이 만들어 진다
- DBMS에 종속적이지 않다
- 복잡한 쿼리의 경우 JPQL 또는 SQL Mapper를 혼용하여 사용할 수 있다